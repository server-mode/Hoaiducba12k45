@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --pane-gap: 8px;
  --pane-height: 260px;
  --pane-width: 220px;
  --pane-rotation-interval: 60000ms;
}

html { scroll-behavior: smooth; }
body { font-family: 'Be Vietnam Pro', sans-serif; }

/* Hero & panes core (trimmed, can extend later) */
.hero-block { min-height: 520px; position: relative; background: linear-gradient(180deg,rgba(0,0,0,.08),rgba(0,0,0,.18)); }
.hero-block.collapsed { min-height: 200px !important; }
.hero-block::before { content:''; position:absolute; inset:0; background-image:url('/DMT_0576.jpg'); background-size:cover; background-position:center; filter:brightness(.48) contrast(1.05) saturate(.96); }
.hero-block::after { content:''; position:absolute; inset:0; background:linear-gradient(180deg,rgba(0,0,0,.44),rgba(0,0,0,.62)),radial-gradient(circle at 50% 55%,rgba(255,255,255,.04),transparent 60%); mix-blend-mode: multiply; pointer-events:none; }
.hero-frame { display:grid; grid-template-columns:repeat(6,minmax(var(--pane-width),1fr)); gap:calc(var(--pane-gap)/2); width:calc(var(--pane-width)*6 + (5*var(--pane-gap))); max-width:100%; height:var(--pane-height); margin:0 auto; background:transparent; position:relative; z-index:2; }
.hero-frame .pane { position:relative; overflow:hidden; background:#f3f4f6; height:400px; display:flex; align-items:center; justify-content:center; clip-path:polygon(15% 0,100% 0,85% 100%,0 100%); }
.hero-frame .pane::before, .hero-frame .pane::after { content:''; position:absolute; inset:0; background-size:cover; background-position:center top; background-repeat:no-repeat; filter:saturate(1.05) contrast(1.02) brightness(.95) blur(.35px); transition:transform 900ms cubic-bezier(.22,.9,.28,1), opacity 900ms ease-in-out; 
  /* Anti-aliasing / smoothing hints */
  image-rendering:-webkit-optimize-contrast; /* Safari/WebKit legacy */
  image-rendering:crisp-edges; /* Some browsers treat as higher quality scaling hint */
  image-rendering:high-quality; /* Draft spec value (ignored where unsupported) */
  -ms-interpolation-mode:nearest-neighbor; /* Legacy IE fallback (harmless elsewhere) */
  backface-visibility:hidden; /* Avoid potential subpixel jitter */
  transform:translateZ(0); /* Promote to its own layer for smoother filtering */
}
.hero-frame .pane::before { background-image: var(--pane-img-inline); transform:translateX(0%); }
.hero-frame .pane::after { background-image: var(--pane-after-image); opacity:0; transform:translateX(12%); }
.hero-frame .pane.swap-active::after { opacity:1; transform:translateX(0); }
.hero-frame .pane.swap-active::before { opacity:0; transform:translateX(-12%); }
.hero-frame .pane .pane-flash { position:absolute; inset:0; background:#fff; opacity:0; mix-blend-mode:screen; transition:opacity .38s ease-out; }
.hero-frame .pane.flash-on .pane-flash { opacity:.18; }
.pane-char { position:relative; z-index:2; font-size:3.2rem; font-weight:900; color:#fff; text-shadow:0 6px 20px rgba(0,0,0,.6); }
@media (min-width:768px){ :root{ --pane-height:220px } .pane-char{ font-size:4.2rem } }
@media (min-width:1024px){ :root{ --pane-height:320px } .pane-char{ font-size:6rem } }

/* Parallelogram reusable */
.parallelogram-shape { clip-path: polygon(10% 0, 100% 0, 90% 100%, 0 100%); }

/* Member card animations & glow */
.member-card { transition: opacity 1s ease-out, transform .8s cubic-bezier(.23,1,.32,1), box-shadow .3s ease; opacity:0; transform:translateY(50px) scale(.9); position:relative; overflow:visible; }
.member-card.visible { opacity:1; transform:translateY(0) scale(1); }
.member-card img { transition: opacity .8s ease-out, transform .6s ease-out; opacity:0; transform:translateY(20px) scale(.95); }
.member-card img.loaded { opacity:1; transform:translateY(0) scale(1); }
.member-card:hover { box-shadow:0 0 30px rgba(255,255,255,.8),0 0 60px rgba(255,255,255,.6),0 0 100px rgba(255,255,255,.4),0 0 140px rgba(255,255,255,.2),0 8px 32px rgba(0,0,0,.3); transform:translateY(-8px) scale(1.02); }
.member-card::before { content:''; position:absolute; inset:0; background:radial-gradient(circle at 50% 65%,rgba(255,255,255,.65) 0%,rgba(255,255,255,.35) 45%,rgba(255,255,255,.10) 72%,transparent 100%); clip-path:polygon(10% 0,100% 0,90% 100%,0 100%); opacity:0; transform:scale(.92); filter:blur(10px) brightness(1.05); transition:opacity .55s ease, transform 1.1s ease, filter 1.1s ease; z-index:-1; }
.member-card:hover::before { opacity:1; transform:scale(1); filter:blur(14px) brightness(1.15); animation:halo-pulse 3.2s ease-in-out infinite; }
@keyframes halo-pulse { 0%{filter:blur(8px) brightness(1)} 50%{filter:blur(12px) brightness(1.15)} 100%{filter:blur(8px) brightness(1)} }
@keyframes scale-fade {
  0% { opacity:0; transform:scale(.85) translateY(-6px); }
  60% { opacity:1; transform:scale(1.02) translateY(0); }
  100% { opacity:1; transform:scale(1); }
}
.animate-scaleFade { animation: scale-fade .28s cubic-bezier(.22,.9,.3,1) both; }
.image-container { position:relative; overflow:hidden; z-index:2; }
.image-container img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }
.image-container::before { content:''; position:absolute; inset:0; background:linear-gradient(45deg,#f0f0f0 25%,#e0e0e0 25%,#e0e0e0 50%,#f0f0f0 50%,#f0f0f0 75%,#e0e0e0 75%,#e0e0e0); background-size:20px 20px; animation:loading-shimmer 1.5s ease-in-out infinite; z-index:1; }
.image-container.loaded::before { display:none; }
@keyframes loading-shimmer { 0%{background-position:-20px 0} 100%{background-position:20px 0} }

#details-panel { transition:transform .5s cubic-bezier(.23,1,.32,1); transform:translateX(100%); }
#details-panel.is-open { transform:translateX(0); }
#panel-overlay { transition:opacity .5s ease; }

.dark .member-card:hover { box-shadow:0 0 35px rgba(255,255,255,.9),0 0 70px rgba(255,255,255,.7),0 0 110px rgba(255,255,255,.5),0 0 150px rgba(255,255,255,.3),0 8px 32px rgba(0,0,0,.5); }

.member-card { position:relative; }
.member-card .image-container { position:absolute; inset:0; z-index:2; }
.member-card .image-container img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }
.member-card .gradient-overlay { position:absolute; inset:0; z-index:1; }
.member-card .content-layer { position:absolute; bottom:0; left:0; width:100%; z-index:4; }
/* Utility mapping for existing structure */
.member-card > .bg-gradient-to-t { z-index:1 !important; }

/* Golden board table + scrollbar (from thanhtich.html) */
#goldenBoardTableWrapper table { border-collapse: separate; border-spacing: 0; }
#goldenBoardTableWrapper thead th { border-bottom: 2px solid rgba(217,119,6,0.55); position: sticky; top:0; backdrop-filter: blur(4px); }
#goldenBoardTableWrapper th, #goldenBoardTableWrapper td { border-right: 1px solid rgba(217,119,6,0.3); }
#goldenBoardTableWrapper th:last-child, #goldenBoardTableWrapper td:last-child { border-right: none; }
#goldenBoardTableWrapper tbody tr:hover td { background-color: rgba(245, 158, 11, 0.08); }
#goldenBoardTableWrapper::-webkit-scrollbar { width: 12px; height: 12px; }
#goldenBoardTableWrapper::-webkit-scrollbar-track { background: linear-gradient(180deg,#fff, #fdf6e3); border-left: 1px solid rgba(217,119,6,0.25); }
.dark #goldenBoardTableWrapper::-webkit-scrollbar-track { background: linear-gradient(180deg,#1f1f1f,#2a2115); border-left: 1px solid rgba(217,119,6,0.25); }
#goldenBoardTableWrapper::-webkit-scrollbar-thumb { background: linear-gradient(180deg,#fbbf24,#d97706); border: 2px solid #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,.25); }
.dark #goldenBoardTableWrapper::-webkit-scrollbar-thumb { border-color: #1f1f1f; }
#goldenBoardTableWrapper::-webkit-scrollbar-thumb:hover { background: linear-gradient(180deg,#f59e0b,#b45309); }
#goldenBoardTableWrapper { scrollbar-width: thin; scrollbar-color: #d97706 rgba(217,119,6,0.15); }
.dark #goldenBoardTableWrapper { scrollbar-color: #fbbf24 rgba(217,119,6,0.2); }
